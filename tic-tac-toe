В данной задаче необходимо было оценить количество полей возникающее при игре в крустики-нолики.

(В данном решение любие комбинации получаемые друг из друга путем поворота считаются РАЗЛИЧНЫМИ полями!)


1) Для начала оценим количество полей, которыми может закончится игра до 9 хода.
В игре присутствует 3 конфигурации крустиков или ноликов, которые приносят победу:
	а) полоса на боковых ячейка;
	b) полоса на цетральных ячейках;
	c) полоса по диагонали;
(далее будем есльзовать пункты a-c для обозначения случая, для которого производим подсчет)

Возможность победить появляется тольок с пятого хода.

5 ход: (3 крестика, 2 нолика)
	a) Два нолика могут быть расставлениы по 6 оставшимся ячейкам: 15 полей -> всего 4 такой случая: 4 * 15 = 60 полей;
	b) Аналогично 'a' но всего 2 случая: 2 * 15 = 30 полей;
	с) Анологично 'b': 30 полей;
Всего: 60 + 30 + 30 = 120;

6 ход: (3 крестика, 3 нолика)
	a) 3 крустика должны встать в 6 ячейках (20 случаев) так, что бы не получился ряд, иначе победа уже состоялась таких случаев здесь 2: 4 * (20 - 2) = 72;
	b) Аналогично 'a' но всего 2 случая: 2 * 18 = 36;
	c) Здесь уже не существует такой комбинации, что крестики встали в ряд: 2 * 20 = 40;
Всего: 72 + 36 + 40 = 148;

7 ход: (4 крестика, 3 нолика)
	a) Для начала надо поставить еще один крестик в 6 ячейке, затем повторить расчет из 4 хода с учетом этого 
			(Теперь 5 ячеек и всего одна комбинацыя для победы на предыдущем ходу): 4 * 6 * (10 - 1) = 216;
	b) Аналогично 'a' но всего 2 случая: 2 * 6 * 9 = 108;
	c) Здесь уже не существует такой комбинации, что крестики встали в ряд: 2 * 6 * 10 = 120;
Всего: 216 + 108 + 120 = 444;

8 ход: (4 крестика, 4 нолика)
	a) Аналогично предыдущему ходу, но теперь 2 комдинации для победы на предыдущем ходу: 4 * 6 * (5 - 2) = 72;
	b) Аналогично 'a' но всего 2 случая: 2 * 6 * 3 = 36;
	c) Aналогично 'b' но не существует комбинаций для победы на предыдущем ходу: 2 * 6 * 5 = 60;
Всего: 72 + 36 + 60 = 168;

9 ход: (5 крестика, 4 нолика) (Здесь и ничьи, и победы)
	Ничьи + победы:
		Здесь мы будем использовать то, что это последний ход: найдем число всех полей и вычтем невозможные, т.е. те где есть ряд из ноликов
		Всего полей: 9!/(4!*5!) = 126;
		Невозможных полей: 8*6 = 48 - всего 8 возможных случаев победы на количество оставшихся клеток для четвертого нолика
	В Итоге: 126 - 48 = 82;
	Победы:Особенность заключается в том что при постановке 2 крестиков будут повторения след. нужен будет коэфициент 1/2 с учетом того что всего 8 победных случаеыв
		8 * 1 / 2 * 15 = 60;
	Ничьих:	82 - 60 = 22;
	
2) Теперь начнем пересчитывать количество полей на каждом ходу;

0 ход: 1 полей - пустое;
1 ход: 9 полей - постановка крестика;
2 ход: 9*8 = 72 поля - постановка нолика;
3 ход: 72*7*1/2 = 252 поля - постановка второго крестика приводит к появлению повторяющихся полей поля т.к. мы не различаем нолики после постановки следовательно множитель 1/2;
4 ход: 252*6*1/2 = 756 полей - рассуждения аналогичны 3 ходу;
5 ход: 756*5*1/3 = 1260 полей - теперь при постановке третьего крестика уже 3 поля могут перейти в одно, потому множетель 1/3;
6 ход: (1260 - 120)*4*1/3 = 1520 полей - рассуждения аналогичные 5 ходу, но с учетом того что некоторые комбинации уже закончили игру;
7 ход: (1520 - 148 - 444)*3*1/4 + 444*3*1/3 = 1140 полей - при постановке четвертого круста уже 4 поля могут перейти в одно, потому множетель 1/4, при этом победные полямогут получится лишь из 3 т.к. просто поставить крестик в уже победное поле нельзя;
8 ход: (1029 - 444 - 60)*2*1/5 + 60*2/4 = 240 полей - рассуждения аналогичны 7 ходу, при возможности того 5 полей могут перейти в одно;
9 ход: 82 - это уже было досчитано;

В Итоге: 1 + 9 + 72 + 252 + 756 + 1260 + 1520 + 1140 + 240 + 82 = 5332;

Ответ: 5332;

